(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(53)},40:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"toggleSongListWindow",function(){return X}),a.d(n,"changeAudioStatus",function(){return K}),a.d(n,"changePlayMode",function(){return Z}),a.d(n,"saveCurrentLyricIndex",function(){return $}),a.d(n,"appendTheSong",function(){return Q}),a.d(n,"deleteTheSong",function(){return ee}),a.d(n,"playTheSongInPage",function(){return te}),a.d(n,"playTheSongInList",function(){return ae}),a.d(n,"playNextSong",function(){return ne}),a.d(n,"getLyric",function(){return re}),a.d(n,"getLyricFromNet",function(){return ce});var r=a(0),c=a.n(r),i=a(15),s=a.n(i),o=a(4),l=a(5),u=a(7),h=a(6),p=a(8),m=a(57),d=a(59),g=a(56),v=a(2),f=a(9),y=a(3),b=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"searchResult",value:function(e,t){var a=Object(y.a)({},e),n=a.input,r=a.pageSize,c=a.page,i=a.company,s="".concat(i,"/search?keyword=").concat(n,"&type=song&pageSize=").concat(r,"&page=").concat((c-1)*r);this.get(s,t,"searchResult")}},{key:"hotPlayList",value:function(e,t){var a=Object(y.a)({},e),n=a.category,r=a.pageSize,c=a.page,i=a.company,s="".concat(i,"/songList/hot?categoryType=").concat(n,"&pageSize=").concat(r,"&page=").concat((c-1)*r);this.get(s,t,"hotPlayList")}},{key:"albumDetailInfo",value:function(e,t){var a=Object(y.a)({},e),n=a.albumId,r=a.company,c="".concat(r,"/songList?id=").concat(n);this.get(c,t,"albumDetail")}},{key:"getLyric",value:function(e,t){this.get(e,t,"getLyric",!0)}},{key:"getImgInHomePage",value:function(e){this.get("https://v1.itooi.cn/netease/banner",e,"getImgInHomePage",!0)}}]),t}(function(){function e(){Object(o.a)(this,e),this.baseUrl="https://v1.itooi.cn/"}return Object(l.a)(e,[{key:"registerAbort",value:function(e,t){b.abortObj[e]=t.abort.bind(t)}},{key:"abortRequest",value:function(e){void 0!==b.abortObj[e]&&b.abortObj[e]()}},{key:"get",value:function(e,t,a,n){var r=this.baseUrl+e;n&&(r=e);var c={method:"GET",url:r,data:null};this.abortRequest(a);var i=function(e,t){var a=Object(y.a)({},e),n=a.method,r=a.url,c=a.data,i=new XMLHttpRequest;return i.open(n,r,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300||304===i.status?t(i):console.log("error"))},i.send(c),i}(c,t);this.registerAbort(a,i)}}]),e}());b.abortObj={};var E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlerNextImage=a.handlerNextImage.bind(Object(v.a)(a)),a.autoPlay=a.autoPlay.bind(Object(v.a)(a)),a.stopAutoPlay=a.stopAutoPlay.bind(Object(v.a)(a)),a.handlerClickPoint=a.handlerClickPoint.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0===this.props.images.length&&this.props.fetchImgInHomePage(),this.autoPlay()}},{key:"componentWillUnmount",value:function(){this.stopAutoPlay()}},{key:"playNextImage",value:function(e){var t=this.props.images.length,a=(this.props.indexOfCurrentImg+e+t)%t;this.props.changeTheIndexOfImg(a)}},{key:"handlerNextImage",value:function(e){var t=Number(e.target.dataset.step);this.playNextImage(t)}},{key:"autoPlay",value:function(){var e=this;this.timerID=setInterval(function(){e.playNextImage(1)},5e3)}},{key:"stopAutoPlay",value:function(){clearInterval(this.timerID)}},{key:"getClassNameOfPoints",value:function(e){return e===this.props.indexOfCurrentImg?"slide-point active-point":"slide-point"}},{key:"handlerClickPoint",value:function(e){var t=Number(e.target.dataset.index);this.props.changeTheIndexOfImg(t)}},{key:"render",value:function(){var e=this,t=this.props.images||[],a=730*t.length,n=-this.props.indexOfCurrentImg%a*730||0;return c.a.createElement("div",{className:"image-slider",onMouseOver:this.stopAutoPlay,onMouseOut:this.autoPlay},c.a.createElement("button",{className:"slide-button slide-left vertical-center",onClick:this.handlerNextImage,"data-step":"-1"},"<"),c.a.createElement("div",{className:"image-slider-container",style:{width:a,height:336,transform:"translate3d(".concat(n,"px, 0px, 0px)")}},t.map(function(e,t){return c.a.createElement("img",{key:t,src:e.picUrl,alt:"\u8f6e\u64ad\u56fe"})})),c.a.createElement("button",{className:"slide-button slide-right vertical-center",onClick:this.handlerNextImage,"data-step":"1"},">"),c.a.createElement("div",{className:"slide-point-container"},t.map(function(t,a){return c.a.createElement("span",{className:e.getClassNameOfPoints(a),key:a,"data-index":a,onClick:e.handlerClickPoint}," ")})))}}]),t}(r.Component),S=Object(f.b)(function(e){var t=e.homePageReducer;return{images:t.images,indexOfCurrentImg:t.indexOfCurrentImg}},function(e){return{fetchImgInHomePage:function(){e(function(e){(new b).getImgInHomePage(function(t){var a=JSON.parse(t.response).data;e(function(e){return{type:"HOMEPAGE/GET_IMG",imgObj:e}}(a)),console.log("\u8f6e\u64ad\u56fe\u4fe1\u606f",a)})})},changeTheIndexOfImg:function(t){e(function(e){return{type:"HOMEPAGE/CHANGE_THE_INDEX_OF_IMG",index:e}}(t))}}})(E),O=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(S,null))}}]),t}(r.Component)),I=function(e){return{type:"PAGE/PLAYLIST_TAG_CHANGE",tagName:e}},N=a(58),j=a(29),P=function(e){if(!e)return"00:00";var t=String(Math.floor(e/60)),a=String(Math.floor(e%60));return 1===a.length&&(a="0"+a),1===t.length&&(t="0"+t),"".concat(t,":").concat(a)},C=function(e){localStorage.setItem("currentSongIndex",JSON.stringify(e))},L=function(e){var t=JSON.parse(localStorage.getItem("songList"));null===t&&(t=[]),t.push(e),localStorage.setItem("songList",JSON.stringify(t))},k=function(e){var t=e.songList,a=e.currentSongExtraInfo.currentSongIndex;return-1===a?e.initSongInfo:t[a]},T=function(e){var t=e,a=t.indexOf("]");return{oneLyric:t.slice(a+1),time:function(e){var t=e.split(":"),a=t.length,n=0;return t.map(function(e,t){var r=a-t-1;return n+=e*Math.pow(60,r),0}),n}(t.slice(1,a))}},A=function(e){"?"===e[0]&&(e=e.slice(1));var t={};return 0===e.length?t:(e.split("&").forEach(function(e){var a=e.split("="),n=Object(j.a)(a,2),r=n[0],c=n[1];t[r]=c}),t)},x=function(e,t){var a=e.split("?");return"".concat(a[0],"?param=").concat(t,"y").concat(t)},w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(y.a)({},this.props.itemInfo),t=e.id,a=e.name,n=e.coverImgUrl,r=x(n,400);return c.a.createElement("div",{className:"album-container"},c.a.createElement("div",{className:"album-img","data-id":t,onClick:this.props.fetchAlbumDetailInfo.bind(this,t)},c.a.createElement("img",{src:r,alt:"\u6b4c\u5355\u5c01\u9762"})),c.a.createElement("div",{className:"album-info",title:a},c.a.createElement("span",null,a)))}}]),t}(r.Component),M=Object(f.b)(null,function(e){return{fetchAlbumDetailInfo:function(t){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"netease";return console.log("albumId",e),function(a){var n={albumId:e,company:t};a({type:"PAGE/LOAD_ITEM_DETAIL_STARTED"}),(new b).albumDetailInfo(n,function(e){var t=JSON.parse(e.response);console.log("\u52a0\u8f7d\u6b4c\u5355\u5b8c\u6210",t),200===t.code?a({type:"PAGE/LOAD_ITEM_DETAIL_SUCCESS",albumDetailInfo:t}):a({type:"PAGE/PLAYLIST_LOAD_FAILURE"})})}}(t))}}})(w),_=a(30),D=(a(42),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleChangePage=a.handleChangePage.bind(Object(v.a)(a)),a.isPreviousAndNextCanBeClicked=a.isPreviousAndNextCanBeClicked.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"showMiddleTag",value:function(){var e=this,a=Object(y.a)({},this.props.selectorInfo),n=a.totalPage,r=a.currentPage;if(0!==n)return t.getPageSelector(n,r,9).map(function(t,a){return"..."===t?c.a.createElement("span",{className:"page-selector-ellipsis",key:a},"..."):t===r?c.a.createElement("button",{className:"page-selector-current page-selector-tag page-btn",key:a},t):c.a.createElement("button",{className:"page-selector-tag page-btn",key:a,onClick:e.handleChangePage(t)},t)})}},{key:"handleChangePage",value:function(e){var t=this;return function(){t.props.changePage(e),t.props.pushHistory&&t.props.pushHistory(e)}}},{key:"isPreviousAndNextCanBeClicked",value:function(){var e=Object(y.a)({},this.props.selectorInfo),t=e.totalPage,a=e.currentPage,n=!1,r=!1;return 1===t&&(n=!0,r=!0),1===a?n=!0:a===t&&(r=!0),{previousCanNotBeClicked:n,nextCanNotBeClicked:r,previousClassName:n?"previous-ban-click":"previous-can-click",nextClassName:r?"next-ban-click":"next-can-click"}}},{key:"render",value:function(){var e=Object(y.a)({},this.props.selectorInfo).currentPage,t=this.isPreviousAndNextCanBeClicked(),a=Object(y.a)({},t),n=a.previousCanNotBeClicked,r=a.nextCanNotBeClicked,i=a.previousClassName,s=a.nextClassName;return c.a.createElement("div",{className:"page-selector"},c.a.createElement("button",{className:"".concat(i," page-btn"),disabled:n,onClick:this.handleChangePage(e-1)},"<"),this.showMiddleTag(),c.a.createElement("button",{className:"".concat(s," page-btn"),disabled:r,onClick:this.handleChangePage(e+1)},">"))}}],[{key:"getPageSelector",value:function(e,t,a){if(e<=a){for(var n=[],r=1;r<=e;r++)n.push(r);return n}for(var c=[],i=[],s=[],o=a-3,l=t+o/2,u=t-o/2;u<=l;u++)u<=1?i.push(o+u+1):u>=e?s.push(u-o-1):c.push(u);var h=[].concat(s,c,i);return 2!==h[0]&&h.unshift("..."),h[h.length-1]<e-1&&h.push("..."),h=[1].concat(Object(_.a)(h),[e])}}]),t}(r.Component)),H=function(){var e=document.querySelector("#loading-container"),t=c.a.createElement("div",{className:"loading-container"},c.a.createElement("svg",{className:"load",viewBox:"25 25 50 50"},c.a.createElement("circle",{className:"loading",cx:"50",cy:"50",r:"20",fill:"none"})));return s.a.createPortal(t,e)},R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).pushHistory=a.pushHistory.bind(Object(v.a)(a)),a.getSelectorInfo=a.getSelectorInfo.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if("success"!==this.props.status){var e=A(this.props.location.search),t=e.cat,a=e.page;this.props.fetchHotPlayList(t,a),this.props.playListTagChange(decodeURI(t)),this.props.changePage(a)}}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.location!==e.location){var n=A(this.props.location.search),r=n.cat,c=n.page;this.props.fetchHotPlayList(r,c)}}},{key:"pushHistory",value:function(e){this.props.history.push("playlist?cat=".concat(this.props.activeTag,"&page=").concat(e))}},{key:"getSelectorInfo",value:function(){return{totalPage:this.props.totalPage,currentPage:Number(this.props.currentPage)}}},{key:"showHotPlayList",value:function(){switch(this.props.status){case"loading":return c.a.createElement(H,null);case"success":var e=this.props.playListResult;return c.a.createElement("div",{className:"playlist-result"},e.map(function(e,t){return c.a.createElement(M,{key:t,itemInfo:e})}),c.a.createElement(D,{selectorInfo:this.getSelectorInfo(),changePage:this.props.changePage,pushHistory:this.pushHistory}));case"failure":return c.a.createElement("div",{className:"failed-container"},"\u70ed\u95e8\u6b4c\u5355\u52a0\u8f7d\u5931\u8d25");default:return c.a.createElement("div",null,"PlayList")}}},{key:"render",value:function(){return this.showHotPlayList()}}]),t}(r.Component),G=Object(f.b)(function(e){var t=e.PlayListReducer;return{status:t.playListStatus,playListResult:t.playListResult,activeTag:t.activeTag,currentPage:t.currentPage,pageSize:t.pageSize,totalPage:t.totalPage}},function(e){return{fetchHotPlayList:function(t,a){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u5168\u90e8",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"netease";return function(r){var c={category:e,pageSize:a,page:t,company:n};r({type:"PAGE/PLAYLIST_LOAD_STARTED"}),(new b).hotPlayList(c,function(e){var t=JSON.parse(e.response);console.log("\u52a0\u8f7d\u70ed\u95e8\u6b4c\u5355\u5217\u8868\u5b8c\u6210",t),200===t.code?r(function(e){return{type:"PAGE/LIST_LOAD_SUCCESS",playListResult:e}}(t.data)):r({type:"PAGE/PLAYLIST_LOAD_FAILURE"})})}}(t,a))},playListTagChange:function(t){e(I(t))},changePage:function(t){e(function(e){return{type:"PAGE/PLAYLIST_PAGE_CHANGE",page:e}}(t))}}})(Object(N.a)(R)),B=a(55),V=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"tagChange",value:function(e){this.props.playListTagChange(e),this.props.toggleShow()}},{key:"getClassName",value:function(e){return this.props.activeTag===e?"playlist-tag active-tag":"playlist-tag"}},{key:"getTagTable",value:function(e){var t=this,a=this.props.theTagTabs.slice(e,e+6);return c.a.createElement("tbody",{key:e},c.a.createElement("tr",null,a.map(function(e,a){return c.a.createElement("td",{key:a,className:t.getClassName(e)},c.a.createElement(B.a,{to:"/playlist?cat=".concat(e),onClick:t.tagChange.bind(t,e)},e))})))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"playlist-tag-tabs"},this.props.theTagTabs.map(function(t,a){return c.a.createElement(B.a,{key:a,className:e.getClassName(t),to:"/playlist?cat=".concat(t,"&page=1"),onClick:e.tagChange.bind(e,t)},t)}))}}]),t}(r.Component),z=Object(f.b)(function(e){return{activeTag:e.PlayListReducer.activeTag}},function(e){return{playListTagChange:function(t){e(I(t))}}})(V),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).mainTags=["\u8bed\u79cd","\u98ce\u683c","\u573a\u666f","\u60c5\u611f","\u4e3b\u9898"],a.styleTags=["\u6d41\u884c","\u6447\u6eda","\u6c11\u8c23","\u7535\u5b50","\u821e\u66f2","\u8bf4\u5531","\u8f7b\u97f3\u4e50","\u7235\u58eb","\u4e61\u6751","R&B/Soul","\u53e4\u5178","\u6c11\u65cf","\u82f1\u4f26","\u91d1\u5c5e","\u670b\u514b","\u84dd\u8c03","\u96f7\u9b3c","\u62c9\u4e01","\u53e4\u98ce","Bossa Nova"],a.languageTags=["\u534e\u8bed","\u6b27\u7f8e","\u65e5\u8bed","\u97e9\u8bed","\u7ca4\u8bed","\u5c0f\u8bed\u79cd"],a.senceTags=["\u6e05\u6668","\u591c\u665a","\u5b66\u4e60","\u5de5\u4f5c","\u5348\u4f11","\u4e0b\u5348\u8336","\u5730\u94c1","\u9a7e\u8f66","\u8fd0\u52a8","\u65c5\u884c","\u6563\u6b65","\u9152\u5427"],a.emotionTags=["\u6000\u65e7","\u6e05\u65b0","\u6d6a\u6f2b","\u6027\u611f","\u4f24\u611f","\u6cbb\u6108","\u653e\u677e","\u5b64\u72ec","\u611f\u52a8","\u5174\u594b","\u5feb\u4e50","\u5b89\u9759","\u601d\u5ff5"],a.themeTags=["\u5f71\u89c6\u539f\u58f0","ACG","\u513f\u7ae5","\u6821\u56ed","\u6e38\u620f","70\u540e","80\u540e","90\u540e","\u7f51\u7edc\u6b4c\u66f2","KTV","\u7ecf\u5178","\u7ffb\u5531","\u5409\u4ed6","\u94a2\u7434","\u5668\u4e50","\u699c\u5355","00\u540e"],a.mapTagToMain={"\u8bed\u79cd":a.languageTags,"\u98ce\u683c":a.styleTags,"\u573a\u666f":a.senceTags,"\u60c5\u611f":a.emotionTags,"\u4e3b\u9898":a.themeTags},a.state={show:!1},a.toggleShow=a.toggleShow.bind(Object(v.a)(a)),a.hide=a.hide.bind(Object(v.a)(a)),a.clickOnBlankArea=a.clickOnBlankArea.bind(Object(v.a)(a)),document.onclick=a.hide,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"tagChange",value:function(e){this.props.playListTagChange(e),this.toggleShow()}},{key:"clickOnBlankArea",value:function(e){e.nativeEvent.stopImmediatePropagation()}},{key:"toggleShow",value:function(e){this.setState(function(e){return{show:!e.show}}),void 0!==e&&e.nativeEvent.stopImmediatePropagation()}},{key:"hide",value:function(){this.setState({show:!1})}},{key:"componentWillUnmount",value:function(){this.setState=function(){return!1}}},{key:"render",value:function(){var e,t=this,a=this.state.show?"select-icon rotated":"select-icon",n=this.state.show?"playlist-tags-container":"playlist-tags-container hidden",r="\u5168\u90e8"===this.props.activeTag?"playlist-main-tag active-tag":"playlist-main-tag";return c.a.createElement("div",{className:"playlist-tags"},c.a.createElement("span",{className:"active-tag-name"},this.props.activeTag),c.a.createElement("span",{className:"select-tag-button",onClick:this.toggleShow},this.state.show?"\u6536\u8d77 ":"\u5c55\u5f00 ",(e=a,c.a.createElement("svg",{className:e,viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M127.5 330.9l0.7-0.7c12.3-12.3 32.4-12.3 44.7 0l339.9 339.9L853 330c12.5-12.5 32.9-12.5 45.4 0s12.5 32.9 0 45.4L536 737.8s-0.1 0.1-0.1 0.2l-0.7 0.7c-12.3 12.3-32.4 12.3-44.7 0l-363-363c-12.3-12.4-12.3-32.5 0-44.8z"})))),c.a.createElement("div",{className:n,onClick:this.clickOnBlankArea},c.a.createElement(B.a,{className:r,to:{pathname:"playlist",search:"?cat=\u5168\u90e8&page=1"},onClick:this.tagChange.bind(this,"\u5168\u90e8")},"\u5168\u90e8"),this.mainTags.map(function(e,a){var n=t.mapTagToMain[e];return c.a.createElement("div",{key:a,className:"playlist-tag-container"},c.a.createElement("div",{className:"playlist-tag-class"},e),c.a.createElement(z,{theTagTabs:n,toggleShow:t.toggleShow}))})))}}]),t}(r.Component),F=Object(f.b)(function(e){return{activeTag:e.PlayListReducer.activeTag}},function(e){return{playListTagChange:function(t){e(I(t))}}})(U),W=c.a.createElement("svg",{className:"load",viewBox:"25 25 50 50"},c.a.createElement("circle",{className:"loading",cx:"50",cy:"50",r:"20",fill:"none"})),J=function(e){return{type:"NAV/INPUT_CHANGE",input:e}},Y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fillSearchContentInSearchBar(),a.onSearch=a.onSearch.bind(Object(v.a)(a)),a.onChange=a.onChange.bind(Object(v.a)(a)),a.onKeyPress=a.onKeyPress.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"parseUrlGetSearchContent",value:function(e){var t=A(e.search),a=decodeURI(t.s);if(void 0!==a)return a}},{key:"fillSearchContentInSearchBar",value:function(){this.value=this.parseUrlGetSearchContent(this.props.location),"undefined"===this.value&&(this.value="")}},{key:"componentDidUpdate",value:function(e,t,a){e.location.search!==this.props.location.search&&(this.value=this.parseUrlGetSearchContent(this.props.location))}},{key:"onChange",value:function(e){this.value=e.target.value,this.props.inputChange(this.value)}},{key:"onSearch",value:function(){if(void 0===this.props.searchInput||""===this.props.searchInput)return 0;var e=this.props.searchContent!==this.props.searchInput,t="/search"!==window.location.pathname;if(e||t){var a=this.getSearchUrl();this.props.history.push(a)}}},{key:"getSearchUrl",value:function(){console.log("this.props.searchInput",this.props.searchInput);var e=this.props.searchInput.trim();void 0===e&&(e="");return{pathname:"/search",search:"?s=".concat(e,"&page=").concat(1)}}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&this.onSearch()}},{key:"render",value:function(){return c.a.createElement("div",{className:void 0===this.props.searchResult?"search-bar-container before-searched":"search-bar-container"},c.a.createElement("input",{type:"text",className:"search-bar-input",placeholder:"\u641c\u7d22\u97f3\u4e50\u3001MV\u3001\u6b4c\u5355\u3001\u7528\u6237",onChange:this.onChange,onKeyDown:this.onKeyPress,value:this.value||""}),c.a.createElement("button",{className:"search-bar-button",onClick:this.onSearch},"\u641c\u7d22"))}}]),t}(r.Component),q=Object(f.b)(function(e){var t=e.SearchBarReducer;return{searchInput:t.searchInput,searchContent:t.searchContent,searchResult:t.searchResult,status:t.status}},function(e){return{inputChange:function(t){e(J(t))}}})(Object(N.a)(Y)),X=function(){return{type:"AUDIO/TOGGLE_SONG_LIST_WINDOW"}},K=function(e){return{type:"BAR/CHANGE_AUDIO_STATUS",status:e}},Z=function(e){return{type:"AUDIO/CHANGE_PLAY_MODE",modeType:e}},$=function(e){return{type:"AUDIO/GET_CURRENT_INDEX",currentLyricIndex:e}},Q=function(e){return{type:"PAGE/APPEND_THE_SONG",songInfo:e}},ee=function(e){return{type:"AUDIO/DELETE_THE_SONG",songIndex:e}},te=function(e){return{type:"PAGE/PLAY_THE_SONG",songInfo:e}},ae=function(e){return{type:"LIST/PLAY_THE_SONG",songIndex:e}},ne=function(e){return{type:"AUDIO/PLAY_NEXT_SONG",modeType:e,loopStep:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1}},re=function(e){return{type:"AUDIO/GET_LYRIC",lyric:e}},ce=function(e){return function(t){(new b).getLyric(e,function(a){var n=a.response;console.log(e);var r=n.split("\n").slice(0,-1);0===r.length&&(r=[n]);var c=function(e){for(var t=[],a=function(a){var n=e[a],r=T(n),c=r.oneLyric,i=r.time,s=t.findIndex(function(e){return e.time===i});if(-1!==s)!function(e,t,a){var n=e,r=n[t].lyric;"..."===r?n[t].lyric=a:(n[t].translatedLyric=r,n[t].lyric=a)}(t,s,c);else{if(isNaN(i))return"continue";""===c&&(c="...");var o={time:i,lyric:c,translatedLyric:null};t.push(o)}},n=0;n<e.length;n++)a(n);return t.sort(function(e,t){return e.time-t.time}),t}(r);t(re(c))})}},ie=c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M362.3 512l445-332.3v664.5L362.3 512zM216.7 179.7h80v664.5h-80V179.7z"})),se=c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M216.7 844.3V179.7l445 332.3-445 332.3z m590.6 0h-80V179.7h80v664.6z"})),oe=c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M697.5 76l-497 230.6-147.3-20v420l147.3-20 497 230.6V76z m-50 760.7l-424.9-195-13.7-6.8-15.2 2.1-90.6 12.3V343.8l90.6 12.3 15.2 2.1 13.7-6.8 424.9-194.9v680.2zM812 612h-50V412h50v200z m204.7 200h-50V212h50v600zM914.3 712h-50V312h50v400z"})),le=c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M91.9 165.2h50v50h-50v-50z m150.2 0v50h690v-50h-690zM91.9 429.7h50v-50h-50v50z m150.2 0h690v-50h-690v50zM91.9 644.3h50v-50h-50v50z m150.2 0h690v-50h-690v50zM91.9 858.8h50v-50h-50v50z m150.2 0h690v-50h-690v50z"})),ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).mapEnglishToChinese={loop:"\u5217\u8868\u5faa\u73af",circle:"\u5355\u66f2\u5faa\u73af",random:"\u968f\u673a\u64ad\u653e"},a.isFirstLoad=!0,a.state={volume:1,currentTime:0,duration:null,isHoverOnSongSlider:!1,isHoverOnVolumeBtn:!1},a.isSliding=!1,a.isVolumeSliding=!1,a.audio=c.a.createRef(),a.songSlider=c.a.createRef(),a.volumeSlider=c.a.createRef(),a.playOrPause=a.playOrPause.bind(Object(v.a)(a)),a.clickToSeek=a.clickToSeek.bind(Object(v.a)(a)),a.mouseDownToSeek=a.mouseDownToSeek.bind(Object(v.a)(a)),a.mouseMoveToSeek=a.mouseMoveToSeek.bind(Object(v.a)(a)),a.afterSeek=a.afterSeek.bind(Object(v.a)(a)),a.handleHover=a.handleHover.bind(Object(v.a)(a)),a.changePlayMode=a.changePlayMode.bind(Object(v.a)(a)),a.changeToPlayNextSong=a.changeToPlayNextSong.bind(Object(v.a)(a)),a.toggleSongList=a.toggleSongList.bind(Object(v.a)(a)),a.hoverVolumeBtn=a.hoverVolumeBtn.bind(Object(v.a)(a)),a.clickToChange=a.clickToChange.bind(Object(v.a)(a)),a.mouseDownToChange=a.mouseDownToChange.bind(Object(v.a)(a)),a.mouseMoveToChange=a.mouseMoveToChange.bind(Object(v.a)(a)),a.afterChange=a.afterChange.bind(Object(v.a)(a)),a.bindHotKey=a.bindHotKey.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.audio.current;t.addEventListener("loadstart",function(){e.props.getLyricFromNet(e.props.currentSongInfo.lrc)}),t.addEventListener("canplay",function(){var a=t.currentTime,n=t.duration;e.setState({currentTime:a,duration:n}),!e.isFirstLoad?t.play():e.isFirstLoad=!1}),t.addEventListener("play",function(){e.props.changeAudioStatus("play")}),t.addEventListener("pause",function(){e.props.changeAudioStatus("pause")}),t.addEventListener("timeupdate",function(){if(!e.isSliding){var a=t.currentTime;e.setState({currentTime:a}),e.parseLyricIndex(a)}}),t.addEventListener("ended",function(){var a=e.props,n=a.lengthOfSongList,r=a.playMode;0!==n&&(e.props.playNextSong(r),1!==n&&"circle"!==r||t.play())}),this.isFirstLoad&&0===this.props.lengthOfSongList&&(this.isFirstLoad=!1),document.body.addEventListener("mouseup",this.afterSeek),document.body.addEventListener("mouseup",this.afterChange),window.addEventListener("keydown",this.bindHotKey),t.addEventListener("error",function(e){e.target.error.code})}},{key:"bindHotKey",value:function(e){var t=e.target.tagName;if("INPUT"!==t&&"TEXTAREA"!==t){var a=e.key,n=e.ctrlKey;"p"===a||"P"===a?this.playOrPause():n&&"ArrowRight"===a?this.changeToPlayNextSong(1)():n&&"ArrowLeft"===a&&this.changeToPlayNextSong(-1)()}}},{key:"getNextLyricIndex",value:function(e,t,a){var n=t.length,r=t[n-1].time;return e>=r?n-1:e<=r&&e>=r-a?n-2:t.findIndex(function(t,r,c){if(r===n-1)return!1;var i=t.time-a<=e,s=c[r+1].time-a>=e;return i&&s})}},{key:"parseLyricIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,a=this.props.currentSongExtraInfo.currentLyric;if(0===a.length)return!1;var n=this.getNextLyricIndex(e,a,t);if(n===this.props.currentSongExtraInfo.currentLyricIndex)return!1;this.props.saveCurrentLyricIndex(n)}},{key:"playOrPause",value:function(){var e=this.audio.current;""!==e.currentSrc&&("pause"===this.props.AudioStatus?(e.play(),this.props.changeAudioStatus("play")):(e.pause(),this.props.changeAudioStatus("pause")))}},{key:"clickToSeek",value:function(e){var t=this.audio.current;if(!e.target.classList.contains("slider-point")){var a=e.currentTarget.getBoundingClientRect(),n=a.left,r=a.width,c=(e.clientX-n)/r*t.duration;isNaN(c)||(t.currentTime=c)}}},{key:"mouseDownToSeek",value:function(){this.isSliding=!0,document.body.classList.add("sliding")}},{key:"mouseMoveToSeek",value:function(e){var t=this;if(this.isSliding){var a=e.clientX;window.requestAnimationFrame(function(){t.seek(a)})}}},{key:"seek",value:function(e){var t=this.audio.current,a=this.songSlider.current.getBoundingClientRect(),n=(e-a.left)/a.width;if(n>=0&&n<=1){var r=Number((t.duration*n).toFixed(2));isNaN(t.duration)&&(r=0),this.setState({currentTime:r})}}},{key:"afterSeek",value:function(){this.isSliding&&(this.audio.current.currentTime=this.state.currentTime,this.isSliding=!1,document.body.classList.remove("sliding"))}},{key:"clickToChange",value:function(e){var t=this.audio.current;if(!e.target.classList.contains("slider-point")){var a=e.currentTarget.getBoundingClientRect(),n=a.left,r=a.width,c=((e.clientX-n)/r).toFixed(2);isNaN(c)||(this.setState({volume:c}),t.volume=c)}}},{key:"mouseDownToChange",value:function(){this.isVolumeSliding=!0,document.body.classList.add("sliding")}},{key:"mouseMoveToChange",value:function(e){var t=this;if(this.isVolumeSliding){var a=e.clientX;window.requestAnimationFrame(function(){t.change(a)})}}},{key:"change",value:function(e){var t=this.audio.current,a=this.volumeSlider.current.getBoundingClientRect(),n=(e-a.left)/a.width;if(n>=0&&n<=1){var r=n.toFixed(2);this.setState({volume:r}),t.volume=r}}},{key:"afterChange",value:function(){this.isVolumeSliding&&(this.isVolumeSliding=!1,document.body.classList.remove("sliding"))}},{key:"handleHover",value:function(){this.setState(function(e){return{isHoverOnSongSlider:!e.isHoverOnSongSlider}})}},{key:"hoverVolumeBtn",value:function(){this.setState(function(e){return{isHoverOnVolumeBtn:!e.isHoverOnVolumeBtn}})}},{key:"toggleSongList",value:function(){(this.props.toggleSongListWindow(),null===document.querySelector(".pop-up"))&&document.querySelector("body").classList.toggle("ban-scroll")}},{key:"changePlayMode",value:function(){var e=["loop","circle","random"],t=e.indexOf(this.props.playMode),a=e[(t+1)%e.length];this.props.changePlayMode(a)}},{key:"changeToPlayNextSong",value:function(e){var t=this;return function(){t.props.playNextSong(t.props.playMode,e)}}},{key:"render",value:function(){var e=this.state,t=e.currentTime,a=e.duration,n=e.volume,r=100*(t/a).toFixed(3),i=this.props.currentSongInfo,s=i.name,o=i.singer,l=i.pic,u=i.url;l=x(l,400);var h,p,m=this.props.playMode,d=this.mapEnglishToChinese[m];return c.a.createElement("div",{className:this.props.showSongListWindow?"playlist-opened audio-controller":"audio-controller",onMouseMove:this.mouseMoveToSeek},c.a.createElement("audio",{src:u,ref:this.audio}),c.a.createElement("div",{className:"album-cover"},c.a.createElement("img",{src:l,alt:"\u4e13\u8f91\u56fe\u7247"})),c.a.createElement("div",{className:"extra-info-container"},c.a.createElement("div",{className:this.state.isHoverOnSongSlider?"song-slider hover":"song-slider",onClick:this.clickToSeek,onMouseOver:this.handleHover,onMouseOut:this.handleHover,ref:this.songSlider},c.a.createElement("div",{className:"slider-bg"}),c.a.createElement("div",{className:"slider-progress",style:{width:"".concat(r,"%")}},c.a.createElement("div",{className:"slider-point",onMouseDown:this.mouseDownToSeek}))),c.a.createElement("span",{className:"music-timeline"},c.a.createElement("span",{id:"music-time-now"},P(t)),c.a.createElement("span",null," / "),c.a.createElement("span",{id:"music-time-all"},P(a))),c.a.createElement("div",{className:"song-info"},c.a.createElement("div",{className:"song-info-name",title:s},s),c.a.createElement("div",{className:"song-info-singer",title:o},o)),c.a.createElement("div",{className:"controller-btn"},c.a.createElement("span",{className:"back-btn",title:"\u4e0a\u4e00\u9996(ctrl+\u2190)",onClick:this.changeToPlayNextSong(-1)},ie),c.a.createElement("span",{className:["play-btn",this.props.AudioStatus].join(" "),title:"\u64ad\u653e/\u6682\u505c(p)",onClick:this.playOrPause},(p=this.props.AudioStatus,{play:c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M243.2 208h166.4v608H243.2zM614.4 208h166.4v608h-166.4z"})),pause:c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M289.5 844.3V179.7l445 332.3-445 332.3z"}))}[p])),c.a.createElement("span",{className:"next-btn",title:"\u4e0b\u4e00\u9996(ctrl+\u2192)",onClick:this.changeToPlayNextSong(1)},se),c.a.createElement("span",{className:"volume-btn icon",title:"\u97f3\u91cf\uff1a".concat(100*n),onClick:this.hoverVolumeBtn},oe,c.a.createElement("div",{className:this.state.isHoverOnVolumeBtn?"volume-bar":"volume-bar none-width",onMouseMove:this.mouseMoveToChange},c.a.createElement("div",{className:"volume-slider",ref:this.volumeSlider,onClick:this.clickToChange},c.a.createElement("div",{className:"slider-progress",style:{width:"".concat(100*n,"%")}},c.a.createElement("div",{className:this.state.isHoverOnVolumeBtn?"slider-point":"hidden",onMouseDown:this.mouseDownToChange}))))),c.a.createElement("span",{className:this.state.isHoverOnVolumeBtn?"hidden":"mode-btn icon ".concat(m),"data-mode":m,title:d,onClick:this.changePlayMode},(h=m,{loop:c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M922 607.1V887H102V157h612.2V58.2l200 125-200 125V207H152v630h720V607.1h50z"})),circle:c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M922 607.1V887H102V157h612.2V58.2l200 125-200 125V207H152v630h720V607.1h50zM560.5 737.6V306.4h-34c-9.2 18.6-24.8 37.7-46.9 57.4-22.1 19.7-47.9 36.5-77.3 50.4v51c16.4-6.1 34.9-15.1 55.5-27.2s37.3-24.2 50-36.3v336h52.7z"})),random:c.a.createElement("svg",{className:"svg-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M726.6 774H594.4L458.8 512l135.6-262h132.2v98.7l200-125-200-125V200H564.4L430.7 457.7 297.4 200h-200v50h169.2l135.9 262-135.9 262H97.4v50h200l133.3-257.7L564.4 824h162.2v101.3l200-125-200-125z"}))}[h])),c.a.createElement("span",{className:this.state.isHoverOnVolumeBtn?"hidden":"list-btn icon",title:"\u64ad\u653e\u5217\u8868",onClick:this.toggleSongList},le))))}}]),t}(r.Component),he=Object(f.b)(function(e){var t=e.AudioReducer,a=k(t);return{lengthOfSongList:t.songList.length,AudioStatus:t.AudioStatus,currentSongInfo:a,currentSongExtraInfo:t.currentSongExtraInfo,playMode:t.playMode,showSongListWindow:t.showSongListWindow}},function(e){return{changeAudioStatus:function(t){e(K(t))},getLyricFromNet:function(t){e(ce(t))},saveCurrentLyricIndex:function(t){e($(t))},changePlayMode:function(t){e(Z(t))},playNextSong:function(t,a){e(ne(t,a))},toggleSongListWindow:function(){e(X())}}})(ue),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlePlay=a.handlePlay.bind(Object(v.a)(a)),a.handlePause=a.handlePause.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handlePlay",value:function(){this.props.currentSongId!==this.props.songInfo.id?(this.props.playTheSongInList(this.props.songIndex),console.log("this.props.songInfo\uff0c\u7b2c\u4e00\u6b21\u653e",this.props.songInfo)):document.querySelector("audio").play()}},{key:"handlePause",value:function(){document.querySelector("audio").pause()}},{key:"getPlayOrPauseButtonSvg",value:function(){var e=this.props.songInfo.id;return"play"===this.props.AudioStatus&&this.props.currentSongId===e?c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M910.8 303.6c-5.4-10.5-16.3-17.8-28.9-17.8-17.8 0-32.2 14.4-32.2 32.1 0 6 1.7 11.7 4.6 16.5l-0.1 0.1c26.9 52.4 42.1 111.8 42.1 174.7 0 211.6-171.6 383.2-383.2 383.2S129.8 720.8 129.8 509.2 301.4 126.1 513 126.1c62.5 0 121.5 15 173.6 41.5l0.2-0.4c4.6 2.6 10 4.1 15.7 4.1 17.8 0 32.2-14.4 32.2-32.1 0-13.1-7.9-24.4-19.3-29.4C654.6 78.9 585.9 61.5 513 61.5 265.7 61.5 65.3 262 65.3 509.2S265.7 956.9 513 956.9s447.7-200.4 447.7-447.7c0-74.1-18-144-49.9-205.6z"}),c.a.createElement("path",{d:"M385.4 352.2V672c0 17.5 14.3 31.9 31.9 31.9 17.6 0 32-14.4 31.9-31.9V352.2c0-17.5-14.3-31.9-31.9-31.9-17.5 0-31.9 14.3-31.9 31.9zM578.9 352.2V672c0 17.5 14.3 31.9 31.9 31.9 17.5 0 31.9-14.4 31.9-31.9V352.2c0-17.5-14.3-31.9-31.9-31.9-17.5 0-31.9 14.3-31.9 31.9z"}),c.a.createElement("path",{d:"M772.7 217.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"})):c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M772.7 217.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"}),c.a.createElement("path",{d:"M415.8 679.9c5.9 0 11.5-1.6 16.2-4.5l231.1-134.6c10.9-5.2 18.5-16.3 18.5-29.2 0-11.9-6.4-22.3-16-27.8L439.7 352.2c-5.8-6.7-14.4-10.9-23.9-10.9-17.6 0-31.8 14.4-31.8 32.1 0 0.6 0 1.2 0.1 1.8l-0.4 0.2 0.5 269c-0.1 1.1-0.2 2.2-0.2 3.4 0 17.7 14.3 32.1 31.8 32.1z"}),c.a.createElement("path",{d:"M909.8 306.6c-5.4-10.5-16.3-17.8-28.9-17.8-17.8 0-32.2 14.4-32.2 32.1 0 6 1.7 11.7 4.6 16.5l-0.1 0.1c26.9 52.4 42.1 111.8 42.1 174.7 0 211.6-171.6 383.2-383.2 383.2S128.8 723.8 128.8 512.2 300.4 129.1 512 129.1c62.5 0 121.5 15 173.6 41.5l0.2-0.4c4.6 2.6 10 4.1 15.7 4.1 17.8 0 32.2-14.4 32.2-32.1 0-13.1-7.9-24.4-19.3-29.4C653.6 81.9 584.9 64.5 512 64.5 264.7 64.5 64.3 265 64.3 512.2S264.7 959.9 512 959.9s447.7-200.4 447.7-447.7c0-74.1-18-144-49.9-205.6z"}))}},{key:"render",value:function(){var e=this.props.songInfo,t=e.id,a=e.name,n=e.singer,r=e.time,i="play"===this.props.AudioStatus&&this.props.currentSongId===t;return c.a.createElement("div",{className:"song-list-item-container",style:i?{color:"rgb(255, 255, 255)"}:{}},c.a.createElement("div",{className:"song-list-item-name"},c.a.createElement("span",{className:"song-name",title:a},a),c.a.createElement("span",{className:"song-list-item-play",onClick:i?this.handlePause:this.handlePlay},this.getPlayOrPauseButtonSvg()),c.a.createElement("span",{className:"song-list-item-delete",onClick:this.props.deleteTheSong.bind(this,this.props.songIndex)},c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M897.2 128H578.7c-1.6-34.7-30.2-62.4-65.3-62.4s-63.8 27.7-65.3 62.4h-320c-17.5 0-31.9 14.4-31.9 31.9s14.4 31.9 31.9 31.9H192v639.8c0 70.4 57.6 128 128 128h384.1c70.4 0 128-57.6 128-128V676.2c0.1-1.2 0.2-2.4 0.2-3.6 0.1-17.8-14.4-32.1-32.1-32.1-17.8 0-32.2 14.4-32.2 32.1v159.1c0 35.2-28.8 64-64 64H320c-35.2 0-64-28.8-64-64V191.8h511.9v223.1c0 17.7 14.4 32.1 32.2 32.1s32.2-14.4 32.2-32.1c0-1.2-0.1-2.4-0.2-3.6V191.8h65.1c17.6 0 31.9-14.4 31.9-31.9S914.7 128 897.2 128z"}),c.a.createElement("path",{d:"M386.9 350.6v386.6c0 16.8 13.8 30.6 30.6 30.6s30.6-13.8 30.6-30.5V350.6c0-16.8-13.8-30.6-30.6-30.6s-30.6 13.8-30.6 30.6zM576.7 350.6v386.6c0 16.8 13.8 30.6 30.6 30.6s30.6-13.8 30.6-30.5V350.6c0-16.8-13.8-30.6-30.6-30.6s-30.6 13.8-30.6 30.6z"}),c.a.createElement("path",{d:"M768 543.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"})))),c.a.createElement("div",{className:"song-list-item-singer name"},c.a.createElement("span",{title:n},n)),c.a.createElement("div",{className:"song-list-item-time"},P(r)))}}]),t}(r.Component),me=Object(f.b)(function(e){var t=e.AudioReducer,a=k(t).id;return{AudioStatus:t.AudioStatus,currentSongId:a}},function(e){return{playTheSongInList:function(t){e(ae(t))},deleteTheSong:function(t){e(ee(t))}}})(pe),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).list=c.a.createRef(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getTheActiveLyricOffset",value:function(){var e=this.list.current,t=document.querySelector(".active");if(null!==t){var a=e.getBoundingClientRect().height,n=Math.floor(a/40/2);e.scrollTop=t.offsetTop-40*n}}},{key:"componentDidUpdate",value:function(e,t,a){this.getTheActiveLyricOffset()}},{key:"render",value:function(){var e=this.props.currentSongInfo.pic;e=x(e,400);var t=this.props.currentSongExtraInfo,a=t.currentLyric,n=t.currentLyricIndex,r=this.props.songList.length;return c.a.createElement("div",{className:this.props.showSongListWindow?"song-list":"song-list hidden"},c.a.createElement("div",{className:"song-list-bg"}),c.a.createElement("div",{className:"song-list-img",style:{backgroundImage:"url(".concat(e,")")}}),c.a.createElement("span",{className:"song-list-header"},"\u64ad\u653e\u5217\u8868\xa0\xa0\xa0","(\u603b".concat(r,"\u9996)")),c.a.createElement("div",{className:"song-list-container"},c.a.createElement("div",{className:"song-list-head-container"},c.a.createElement("div",{className:"song-list-item-name"},c.a.createElement("span",{title:""},"\u6b4c\u66f2")),c.a.createElement("div",{className:"song-list-item-singer"},c.a.createElement("span",{title:""},"\u6b4c\u624b")),c.a.createElement("div",{className:"song-list-item-time"},"\u65f6\u957f")),this.props.songList.map(function(e,t){return c.a.createElement(me,{key:t,songIndex:t,songInfo:e})})),c.a.createElement("div",{className:"lyric-list",ref:this.list},a.map(function(e,t){return null===e.translatedLyric?c.a.createElement("p",{className:n===t?"lyric-item active":"lyric-item",key:t},e.lyric):c.a.createElement("p",{className:n===t?"lyric-item active":"lyric-item",key:t},e.lyric,c.a.createElement("br",null),e.translatedLyric)})))}}]),t}(r.Component),ge=Object(f.b)(function(e){var t=e.AudioReducer,a=k(t);return{songList:t.songList,currentSongInfo:a,currentSongExtraInfo:t.currentSongExtraInfo,showSongListWindow:t.showSongListWindow}},null)(de),ve=(a(45),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"music-player"},c.a.createElement(he,null),c.a.createElement(ge,null))}}]),t}(r.Component)),fe=n.appendTheSong,ye=n.playTheSongInPage,be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handlePlay=a.handlePlay.bind(Object(v.a)(a)),a.handleAppend=a.handleAppend.bind(Object(v.a)(a)),a.handlePause=a.handlePause.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handlePlay",value:function(){this.props.result.copyright?this.props.currentSongId!==this.props.result.id?(this.props.playTheSongInPage(this.props.result),console.log("this.props.songInfo\uff0c\u7b2c\u4e00\u6b21\u653e",this.props.result)):document.querySelector("audio").play():alert("\u8be5\u6b4c\u66f2\u4e0d\u80fd\u64ad\u653e")}},{key:"handlePause",value:function(){document.querySelector("audio").pause()}},{key:"getPlayOrPauseButtonSvg",value:function(){var e=this.props.result.id;return"play"===this.props.AudioStatus&&this.props.currentSongId===e?c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M910.8 303.6c-5.4-10.5-16.3-17.8-28.9-17.8-17.8 0-32.2 14.4-32.2 32.1 0 6 1.7 11.7 4.6 16.5l-0.1 0.1c26.9 52.4 42.1 111.8 42.1 174.7 0 211.6-171.6 383.2-383.2 383.2S129.8 720.8 129.8 509.2 301.4 126.1 513 126.1c62.5 0 121.5 15 173.6 41.5l0.2-0.4c4.6 2.6 10 4.1 15.7 4.1 17.8 0 32.2-14.4 32.2-32.1 0-13.1-7.9-24.4-19.3-29.4C654.6 78.9 585.9 61.5 513 61.5 265.7 61.5 65.3 262 65.3 509.2S265.7 956.9 513 956.9s447.7-200.4 447.7-447.7c0-74.1-18-144-49.9-205.6z"}),c.a.createElement("path",{d:"M385.4 352.2V672c0 17.5 14.3 31.9 31.9 31.9 17.6 0 32-14.4 31.9-31.9V352.2c0-17.5-14.3-31.9-31.9-31.9-17.5 0-31.9 14.3-31.9 31.9zM578.9 352.2V672c0 17.5 14.3 31.9 31.9 31.9 17.5 0 31.9-14.4 31.9-31.9V352.2c0-17.5-14.3-31.9-31.9-31.9-17.5 0-31.9 14.3-31.9 31.9z"}),c.a.createElement("path",{d:"M772.7 217.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"})):c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M772.7 217.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z"}),c.a.createElement("path",{d:"M415.8 679.9c5.9 0 11.5-1.6 16.2-4.5l231.1-134.6c10.9-5.2 18.5-16.3 18.5-29.2 0-11.9-6.4-22.3-16-27.8L439.7 352.2c-5.8-6.7-14.4-10.9-23.9-10.9-17.6 0-31.8 14.4-31.8 32.1 0 0.6 0 1.2 0.1 1.8l-0.4 0.2 0.5 269c-0.1 1.1-0.2 2.2-0.2 3.4 0 17.7 14.3 32.1 31.8 32.1z"}),c.a.createElement("path",{d:"M909.8 306.6c-5.4-10.5-16.3-17.8-28.9-17.8-17.8 0-32.2 14.4-32.2 32.1 0 6 1.7 11.7 4.6 16.5l-0.1 0.1c26.9 52.4 42.1 111.8 42.1 174.7 0 211.6-171.6 383.2-383.2 383.2S128.8 723.8 128.8 512.2 300.4 129.1 512 129.1c62.5 0 121.5 15 173.6 41.5l0.2-0.4c4.6 2.6 10 4.1 15.7 4.1 17.8 0 32.2-14.4 32.2-32.1 0-13.1-7.9-24.4-19.3-29.4C653.6 81.9 584.9 64.5 512 64.5 264.7 64.5 64.3 265 64.3 512.2S264.7 959.9 512 959.9s447.7-200.4 447.7-447.7c0-74.1-18-144-49.9-205.6z"}))}},{key:"handleAppend",value:function(){this.props.result.copyright?this.props.appendTheSong(this.props.result):alert("\u8be5\u6b4c\u66f2\u4e0d\u80fd\u64ad\u653e")}},{key:"render",value:function(){var e=this.props.result,t=this.props.result.id,a="play"===this.props.AudioStatus&&this.props.currentSongId===t,n=(this.props.index+1)%2!==0,r=this.props.result.copyright?"":"#aaa";return c.a.createElement("div",{className:n?"search-item-container odd":"search-item-container",style:{color:"".concat(r)}},c.a.createElement("span",{className:"search-item-number"},"".concat(this.props.index+1,".")),c.a.createElement("div",{className:"search-item-name"},c.a.createElement("span",{className:"song-name",title:e.name},e.name),c.a.createElement("span",{className:"search-item-play",onClick:a?this.handlePause:this.handlePlay},this.getPlayOrPauseButtonSvg()),c.a.createElement("span",{className:"search-item-append",onClick:this.handleAppend},c.a.createElement("svg",{className:"svg-list-icon",viewBox:"0 0 1024 1024"},c.a.createElement("path",{d:"M197.3 197.3c-173.8 173.8-173.8 455.5 0 629.3s455.5 173.8 629.3 0 173.8-455.5 0-629.3-455.5-173.7-629.3 0zM907 512c0 51.3-9.7 101.3-28.9 148.7-19.9 49-49.1 92.9-86.8 130.6s-81.7 66.9-130.6 86.8C613.3 897.3 563.3 907 512 907c-51.3 0-101.3-9.7-148.7-28.9-49-19.9-92.9-49.1-130.6-86.8s-66.9-81.7-86.8-130.6C126.7 613.3 117 563.3 117 512c0-51.3 9.7-101.3 28.9-148.7 19.9-49 49.1-92.9 86.8-130.6s81.7-66.9 130.6-86.8C410.7 126.7 460.7 117 512 117c51.3 0 101.3 9.7 148.7 28.9 49 19.9 92.9 49.1 130.6 86.8s66.9 81.7 86.8 130.6C897.3 410.7 907 460.7 907 512zM537 262v225h225v50H537v225h-50V537H262v-50h225V262h50z"})))),c.a.createElement("div",{className:"search-item-singer name"},c.a.createElement("span",{title:e.singer},e.singer)),c.a.createElement("div",{className:"search-item-time"},P(e.time)))}}]),t}(r.Component),Ee=Object(f.b)(function(e){var t=e.AudioReducer,a=k(t).id;return{AudioStatus:t.AudioStatus,currentSongId:a}},function(e){return{appendTheSong:function(t){e(fe(t))},playTheSongInPage:function(t){e(ye(t))}}})(be),Se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).pushHistory=a.pushHistory.bind(Object(v.a)(a)),a.getSelectorInfo=a.getSelectorInfo.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"dataCleaning",value:function(e){var t=e.ar.map(function(e){return e.name}).join("/"),a=String(e.privilege.id);return{name:e.name,singer:t,time:e.dt/1e3,id:a,pic:e.al.picUrl,lrc:"https://v1.itooi.cn/netease/lrc?id=".concat(a),url:"https://v1.itooi.cn/netease/url?id=".concat(a),copyright:0!==e.privilege.fl}}},{key:"pushHistory",value:function(e){this.props.history.push("search?s=".concat(this.props.searchContent,"&page=").concat(e))}},{key:"getSelectorInfo",value:function(){var e=this.props.searchResult.data.songCount;e>600&&(e=600);var t=this.props.pageSize;return{totalPage:Math.ceil(e/t),currentPage:Number(this.props.searchPage)}}},{key:"render",value:function(){var e=this,t=this.props.searchResult.data.songs,a=this.getSelectorInfo();return c.a.createElement("div",{className:"search-list-container"},c.a.createElement("span",{className:"search-head-number"}),c.a.createElement("div",{className:"search-head-container"},c.a.createElement("div",{className:"search-head-name name"},c.a.createElement("span",{title:"\u6b4c\u540d"},"\u6b4c\u66f2")),c.a.createElement("div",{className:"search-head-singer name"},c.a.createElement("span",{title:"\u6b4c\u624b"},"\u6b4c\u624b")),c.a.createElement("div",{className:"search-head-time"},"\u65f6\u957f")),c.a.createElement("div",{className:"search-list"},t.map(function(t,a){var n=a+e.props.pageSize*(e.props.searchPage-1);return c.a.createElement(Ee,{key:a,index:n,result:e.dataCleaning(t)})})),c.a.createElement(D,{selectorInfo:a,changePage:this.props.changePage,pushHistory:this.pushHistory}))}}]),t}(r.Component),Oe=Object(f.b)(function(e){var t=e.SearchBarReducer;return{searchContent:t.searchContent,searchResult:t.searchResult,searchPage:t.searchPage,pageSize:t.pageSize}},function(e){return{changePage:function(t){e(function(e){return{type:"PAGE/CHANGE_PAGE",page:e}}(t))}}})(Object(N.a)(Se)),Ie=(a(47),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=A(this.props.location.search),t=e.s,a=Number(e.page);void 0!==t&&t!==this.props.searchContent&&(this.props.fetchSearchResult(t,a),this.props.inputChange(t))}},{key:"componentDidUpdate",value:function(e,t,a){if(e.location.search!==this.props.location.search){var n=A(this.props.location.search),r=n.s,c=Number(n.page);this.props.fetchSearchResult(r,c)}}},{key:"showSearchResult",value:function(){switch(this.props.status){case"loading":return c.a.createElement(H,null);case"success":return c.a.createElement(Oe,null);case"failure":return c.a.createElement("div",{className:"failed-container"},"\u6b4c\u66f2\u641c\u7d22\u5931\u8d25");default:return c.a.createElement("div",null)}}},{key:"render",value:function(){return c.a.createElement("div",{className:"search-page-content"},c.a.createElement(q,null),this.showSearchResult())}}]),t}(r.Component)),Ne=Object(f.b)(function(e){var t=e.SearchBarReducer;return{status:t.status,searchResult:t.searchResult,searchContent:t.searchContent}},function(e){return{fetchSearchResult:function(t,a){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"netease";return function(r){var c={input:e,pageSize:a,page:t,company:n};r({type:"NAV/SEARCH_STARTED",data:e}),(new b).searchResult(c,function(e){var a=JSON.parse(e.response);console.log("\u641c\u7d22\u5b8c\u6210",a),200===a.code?r({type:"NAV/SEARCH_SUCCESS",result:a,searchContent:c.input,searchPage:t}):r({type:"NAV/SEARCH_FAILURE",error:a})})}}(t,a))},inputChange:function(t){e(J(t))}}})(Ie),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={isAllDescriptionShowed:!1},a.descriptionToggle=a.descriptionToggle.bind(Object(v.a)(a)),a.getPageSelectorInfo=a.getPageSelectorInfo.bind(Object(v.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"descriptionToggle",value:function(){this.setState(function(e){return{isAllDescriptionShowed:!e.isAllDescriptionShowed}})}},{key:"getPageSelectorInfo",value:function(){return{totalPage:Math.ceil(this.props.albumDetailInfo.data.trackCount/this.props.albumPageSize),currentPage:Number(this.props.albumCurrentPage)}}},{key:"render",value:function(){var e=this.props.albumDetailInfo.data,a=e.coverImgUrl,n=e.name,r=e.description,i=e.trackCount;a=x(a,200);var s=Object(y.a)({},this.props),o=s.albumCurrentPage,l=s.albumPageSize,u=(o-1)*l,h=u+l,p=e.tracks.slice(u,h),m=this.state.isAllDescriptionShowed,d=m?"album-list-info all-description-showed":"album-list-info",g=m?"album-list-description all-description-showed":"album-list-description";return c.a.createElement("div",{className:"album-list-container"},c.a.createElement("div",{className:d},c.a.createElement("img",{className:"album-list-bg",src:a,alt:"\u4e13\u8f91\u56fe\u7247"}),c.a.createElement("span",{className:"album-list-pic"},c.a.createElement("img",{src:a,alt:"\u4e13\u8f91\u56fe\u7247"})),c.a.createElement("div",{className:"album-list-name",title:n},"\u6b4c\u5355\uff1a".concat(n)),c.a.createElement("p",{className:g},c.a.createElement("span",null,"\u4ecb\u7ecd\uff1a"),c.a.createElement("br",null),"".concat(r)),c.a.createElement("span",{className:"description-toggle",onClick:this.descriptionToggle},m?"\u6536\u8d77":"\u5c55\u5f00")),c.a.createElement("div",{className:"album-list-count"},"\u6b4c\u66f2\u5217\u8868 (".concat(i,"\u9996\u6b4c)")),c.a.createElement("div",{className:"album-list-items"},p.map(function(e,a){var n=a+u;return c.a.createElement(Ee,{key:n,index:n,result:t.dataCleaning(e)})})),c.a.createElement(D,{selectorInfo:this.getPageSelectorInfo(),changePage:this.props.changePage}))}}],[{key:"dataCleaning",value:function(e){var t=e.artists.map(function(e){return e.name}).join("/");return{id:e.id,name:e.name,singer:t,time:e.duration/1e3,pic:e.album.blurPicUrl,lrc:"https://v1.itooi.cn/netease/lrc?id=".concat(e.id),url:"https://v1.itooi.cn/netease/url?id=".concat(e.id),copyright:!0}}}]),t}(r.Component),Pe=Object(f.b)(function(e){var t=e.PlayListReducer;return{albumDetailInfo:t.albumDetailInfo,albumCurrentPage:t.albumCurrentPage,albumPageSize:t.albumPageSize}},function(e){return{changePage:function(t){e(function(e){return{type:"PAGE/ALBUM_PAGE_CHANGE",page:e}}(t))}}})(je),Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).deleteDetailInfo=a.deleteDetailInfo.bind(Object(v.a)(a)),a.container=document.querySelector("#pop-container"),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=document.body;""!==this.props.albumStatus?n.classList.add("ban-scroll"):n.classList.remove("ban-scroll")}},{key:"deleteDetailInfo",value:function(){this.props.deleteItemDetail()}},{key:"showAlbumList",value:function(){switch(this.props.albumStatus){case"":return null;case"loading":return c.a.createElement("div",{className:"pop-up"},c.a.createElement("div",{className:"pop-window"},c.a.createElement("span",{className:"modal-portal-toggle",onClick:this.deleteDetailInfo},"\xd7"),c.a.createElement("div",{className:"loading-container"},W)));case"success":return c.a.createElement("div",{className:"pop-up"},c.a.createElement("div",{className:"pop-window"},c.a.createElement("span",{className:"modal-portal-toggle",onClick:this.deleteDetailInfo},"\xd7"),c.a.createElement(Pe,null)));default:return null}}},{key:"render",value:function(){return s.a.createPortal(this.showAlbumList(),this.container)}}]),t}(r.Component),Le=Object(f.b)(function(e){return{albumStatus:e.PlayListReducer.albumStatus}},function(e){return{deleteItemDetail:function(){e((b.abortObj.albumDetail(),{type:"PAGE/DELETE_ITEM_DETAIL"}))}}})(Ce),ke=(a(49),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"playlist-content"},c.a.createElement(F,null),c.a.createElement(G,null),c.a.createElement(Le,null))}}]),t}(r.Component)),Te=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"error-404"},c.a.createElement("img",{src:"https://static.hdslb.com/error/very_sorry.png",alt:"not-found"}),c.a.createElement("div",{className:"error-description"},c.a.createElement("b",null,"\u9519\u8bef\u53f7\uff1a404"),c.a.createElement("br",null),c.a.createElement("b",null,"\u8bf7\u70b9\u51fb\u4e0a\u65b9\u5bfc\u822a\uff0c\u8fdb\u884c\u6d4f\u89c8\uff08\u672a\u914d\u7f6e\u670d\u52a1\u5668\u8fdb\u884c\u9875\u9762\u91cd\u5b9a\u5411\uff09")))}}]),t}(r.Component),Ae=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(y.a)({},this.props.searchBar),a=t.searchContent,n=t.searchPage,r="?s=".concat(a,"&page=").concat(n);""!==a&&void 0!==a||(r="");var i=[{text:"\u9996\u9875",pathname:"/",search:""},{text:"\u70ed\u95e8\u6b4c\u5355",pathname:"/playlist",search:"?cat=".concat(this.props.playList.activeTag,"&page=").concat(this.props.playList.currentPage)},{text:"\u641c\u7d22",pathname:"/search",search:r}];return c.a.createElement("nav",null,c.a.createElement("ul",{className:"nav-container"},i.map(function(t,a){var n="".concat(t.pathname).concat(t.search),r=e.props.currentPathname===t.pathname;return c.a.createElement("li",{className:"nav-item",key:a},c.a.createElement(B.a,{className:r?"nav-link nav-link-current":"nav-link",to:n},t.text))})))}}]),t}(r.Component),xe=Object(N.a)(Object(f.b)(function(e,t){return{playList:e.PlayListReducer,searchBar:e.SearchBarReducer,currentPathname:t.location.pathname}},null)(Ae)),we=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"page-footer"})}}]),t}(r.Component),Me=(a(51),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(m.a,{basename:"/music"},c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,null),c.a.createElement("div",{className:"content-container"},c.a.createElement(d.a,null,c.a.createElement(g.a,{exact:!0,path:"/",component:O}),c.a.createElement(g.a,{exact:!0,path:"/playlist",component:ke}),c.a.createElement(g.a,{exact:!0,path:"/search",component:Ne}),c.a.createElement(g.a,{component:Te}))),c.a.createElement(we,null),c.a.createElement(ve,null)))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(13),De=a(27),He=a(28),Re={homePageReducer:{images:[],indexOfCurrentImg:0},SearchBarReducer:{searchContent:"",searchPage:1,pageSize:20},PlayListReducer:{activeTag:"\u5168\u90e8",albumStatus:"",albumDetailInfo:"",albumCurrentPage:1,albumPageSize:30,currentPage:1,pageSize:60,totalPage:20},AudioReducer:{AudioStatus:"pause",songList:function(){var e=JSON.parse(localStorage.getItem("songList"));return null===e&&(e=[]),e}(),showSongListWindow:!1,currentSongExtraInfo:{currentSongIndex:function(){var e=JSON.parse(localStorage.getItem("currentSongIndex"));return null===e&&(e=-1),e}(),currentLyric:[],currentLyricIndex:-1},playMode:"loop",initSongInfo:{id:-1,name:"\u6b4c\u66f2",singer:"\u6b4c\u624b",lrc:null,pic:"http://s4.music.126.net/style/web2/img/default/default_album.jpg",url:null,time:null}}},Ge={homePageReducer:function(e,t){switch(t.type){case"HOMEPAGE/GET_IMG":return Object(y.a)({},e,{images:t.imgObj});case"HOMEPAGE/CHANGE_THE_INDEX_OF_IMG":return Object(y.a)({},e,{indexOfCurrentImg:t.index});default:return void 0===e?{}:e}},SearchBarReducer:function(e,t){switch(t.type){case"NAV/INPUT_CHANGE":return Object(y.a)({},e,{searchInput:t.input});case"NAV/SEARCH_STARTED":return Object(y.a)({},e,{status:"loading"});case"NAV/SEARCH_SUCCESS":return Object(y.a)({},e,{status:"success",searchResult:t.result,searchContent:t.searchContent,searchPage:t.searchPage});case"NAV/SEARCH_FAILURE":return{status:"failure"};case"PAGE/CHANGE_PAGE":return Object(y.a)({},e,{searchPage:t.page});default:return void 0===e?[]:e}},PlayListReducer:function(e,t){switch(t.type){case"PAGE/PLAYLIST_TAG_CHANGE":return Object(y.a)({},e,{activeTag:t.tagName,currentPage:1});case"PAGE/LOAD_ITEM_DETAIL_STARTED":return Object(y.a)({},e,{albumStatus:"loading"});case"PAGE/LOAD_ITEM_DETAIL_SUCCESS":return Object(y.a)({},e,{albumStatus:"success",albumDetailInfo:t.albumDetailInfo});case"PAGE/DELETE_ITEM_DETAIL":return Object(y.a)({},e,{albumStatus:"",albumDetailInfo:"",albumCurrentPage:1});case"PAGE/PLAYLIST_LOAD_STARTED":return Object(y.a)({},e,{playListStatus:"loading"});case"PAGE/LIST_LOAD_SUCCESS":return Object(y.a)({},e,{playListStatus:"success",playListResult:t.playListResult});case"PAGE/PLAYLIST_LOAD_FAILURE":return Object(y.a)({},e,{playListStatus:"failure"});case"PAGE/PLAYLIST_PAGE_CHANGE":return Object(y.a)({},e,{currentPage:t.page});case"PAGE/ALBUM_PAGE_CHANGE":return Object(y.a)({},e,{albumCurrentPage:t.page});default:return void 0===e?{}:e}},AudioReducer:function(e,t){switch(t.type){case"AUDIO/TOGGLE_SONG_LIST_WINDOW":return Object(y.a)({},e,{showSongListWindow:!e.showSongListWindow});case"BAR/CHANGE_AUDIO_STATUS":return Object(y.a)({},e,{AudioStatus:t.status});case"PAGE/APPEND_THE_SONG":var a=e.songList,n=JSON.parse(JSON.stringify(a));return a.every(function(e){return e.id!==t.songInfo.id})&&(n.push(t.songInfo),L(t.songInfo)),Object(y.a)({},e,{songList:n});case"AUDIO/DELETE_THE_SONG":var r=e.songList,c=JSON.parse(JSON.stringify(r)),i=t.songIndex,s=e.currentSongExtraInfo.currentSongIndex,o=c.length;!function(e){var t=JSON.parse(localStorage.getItem("songList"));t.splice(e,1),localStorage.setItem("songList",JSON.stringify(t))}(i),c.splice(i,1);var l=1===o,u=s===i,h=s===o-1,p=s<i,m=-1,d=e.currentSongExtraInfo.currentLyric;return l?m=-1:u?(m=h?s-1:s,d=[]):m=p?s:s-1,C(m),Object(y.a)({},e,{songList:c,currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentLyric:d,currentSongIndex:m})});case"PAGE/PLAY_THE_SONG":var g=e.songList,v=JSON.parse(JSON.stringify(g)),f=g.findIndex(function(e){return e.id===t.songInfo.id});return-1===f&&(v.push(t.songInfo),L(t.songInfo),f=v.length-1),C(f),Object(y.a)({},e,{songList:v,currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentSongIndex:f,currentLyricIndex:-1})});case"LIST/PLAY_THE_SONG":return C(t.songIndex),Object(y.a)({},e,{currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentSongIndex:t.songIndex,currentLyricIndex:-1,currentLyric:[]})});case"AUDIO/PLAY_NEXT_SONG":var b=t.modeType,E=e.currentSongExtraInfo.currentSongIndex,S=e.songList.length,O=(E+{loop:t.loopStep,circle:0,random:parseInt(S*Math.random())}[b]+S)%S;-1===E&&(O=-1);var I=[];return O===E&&(I=e.currentSongExtraInfo.currentLyric),C(O),Object(y.a)({},e,{currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentSongIndex:O,currentLyric:I,currentLyricIndex:-1})});case"AUDIO/GET_LYRIC":return Object(y.a)({},e,{currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentLyric:t.lyric})});case"AUDIO/GET_CURRENT_INDEX":var N=t.currentLyricIndex;return void 0===N?(console.log("index undefined"),Object(y.a)({},e)):Object(y.a)({},e,{currentSongExtraInfo:Object(y.a)({},e.currentSongExtraInfo,{currentLyricIndex:N})});case"AUDIO/CHANGE_PLAY_MODE":return Object(y.a)({},e,{playMode:t.modeType});default:return void 0===e?{}:e}}},Be=Object(_e.combineReducers)(Ge),Ve=[De.a],ze=Object(He.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Ve)),Ue=Object(_e.createStore)(Be,Re,ze),Fe=c.a.createElement(f.a,{store:Ue},c.a.createElement(Me,null)),We=document.getElementById("root");s.a.render(Fe,We),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.46645b36.chunk.js.map